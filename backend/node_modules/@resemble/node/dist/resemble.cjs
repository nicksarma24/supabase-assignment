var e=require("isomorphic-fetch"),t=require("isomorphic-form-data");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=/*#__PURE__*/r(e),i=/*#__PURE__*/r(t),o="",s="https://app.resemble.ai/api/",a="",u={"Content-Type":"application/json","x-access-token":o},c={"Content-Type":"application/json",Authorization:"Token token="+o},f={headers:function(){return c},synthesisServerHeaders:function(){return u},setBaseUrl:function(e){s=e,e.endsWith("/")||(s+="/")},setApiKey:function(e){o=e,c.Authorization="Token token="+e,u["x-access-token"]=e},setSynthesisUrl:function(e){a=e,e.endsWith("/")||(a+="/")},endpoint:function(e,t){var r=t.startsWith("/")?t.substring(1):t;return""+s+e+"/"+r},synServerUrl:function(e){var t=e.startsWith("/")?e.substring(1):e;return""+a+t}};function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=Object.create((t&&t.prototype instanceof l?t:l).prototype),o=new k(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return{value:void 0,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=w(s,r);if(a){if(a===f)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,o),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function l(){}function m(){}function d(){}var p={};a(p,i,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&r.call(y,i)&&(p=y);var g=d.prototype=l.prototype=Object.create(p);function P(e){["next","throw","return"].forEach(function(t){a(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){function n(i,o,s,a){var u=c(e[i],e,o);if("throw"!==u.type){var f=u.arg,h=f.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,s,a)},function(e){n("throw",e,s,a)}):t.resolve(h).then(function(e){f.value=e,s(f)},function(e){return n("throw",e,s,a)})}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t(function(t,i){n(e,r,t,i)})}return i=i?i.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=d,a(g,"constructor",d),a(d,"constructor",m),m.displayName=a(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},P(_.prototype),a(_.prototype,o,function(){return this}),e.AsyncIterator=_,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var s=new _(u(t,r,n,i),o);return e.isGeneratorFunction(r)?s:s.next().then(function(e){return e.done?e.value:s.next()})},P(g),a(g,s,"Generator"),a(g,i,function(){return this}),a(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;j(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function l(e){this.wrapped=e}function m(e){var t,r;function n(t,r){try{var o=e[t](r),s=o.value,a=s instanceof l;Promise.resolve(a?s.wrapped:s).then(function(e){a?n("return"===t?"return":"next",e):i(o.done?"return":"normal",e)},function(e){n("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,i){return new Promise(function(o,s){var a={key:e,arg:i,resolve:o,reject:s,next:null};r?r=r.next=a:(t=r=a,n(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function d(e){return new l(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}m.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},m.prototype.next=function(e){return this._invoke("next",e)},m.prototype.throw=function(e){return this._invoke("throw",e)},m.prototype.return=function(e){return this._invoke("return",e)};var y=function(e,t){return void 0===t&&(t=!1),fetch(t?f.synServerUrl(e):f.endpoint("v2",e),{method:"GET",headers:t?f.synthesisServerHeaders():f.headers()})},g=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!1),fetch(r?f.synServerUrl(e):f.endpoint("v2",e),{method:"POST",headers:r?f.synthesisServerHeaders():f.headers(),body:JSON.stringify(t)})},P=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=!1),fetch(r?f.synServerUrl(e):f.endpoint("v2",e),{method:"PUT",headers:r?f.synthesisServerHeaders():f.headers(),body:JSON.stringify(t)})},_=function(e,t){return void 0===t&&(t=!1),fetch(t?f.synServerUrl(e):f.endpoint("v2",e),{method:"DELETE",headers:t?f.synthesisServerHeaders():f.headers()})},w=function(e){return{success:!1,message:"Library error: "+e}};function b(e,t){if(0===e.length)return new Uint8Array(0);null!=t||(t=e.reduce(function(e,t){return e+t.length},0));for(var r,n=new Uint8Array(t),i=0,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(r=o()).done;){var s=r.value;n.set(s,i),i+=s.length}return n}function j(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var k={all:function(e,t){try{return Promise.resolve(j(function(){return Promise.resolve(y("projects?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e.items=e.items.map(function(e){return p({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(j(function(){return Promise.resolve(y("projects/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},create:function(e){try{return Promise.resolve(j(function(){return Promise.resolve(g("projects",e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t){try{return Promise.resolve(j(function(){return Promise.resolve(P("projects/"+e,t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e){try{return Promise.resolve(j(function(){return Promise.resolve(_("projects/"+e)).then(function(e){return e.json()})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}}},S=function(e,t,r){if(void 0===e&&(e=4096),void 0===t&&(t=!0),void 0===r&&(r=!1),e<2)throw new Error("Buffer size cannot be less than 2");if(e%2!=0)throw new Error("Buffer size must be evenly divisible by 2.");this.bufferSize=e,this.ignoreWavHeader=t,this.chunks=[],this.headerBuffer=new Uint8Array,this.processTimeStamps=r,this.timeStampsBuffer=[],this.allTimestampsProcessed=!1,this.timeStamps={}};function x(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}S.prototype.setBufferSize=function(e){if(e<2)throw new Error("Buffer size cannot be less than 2");if(e%2!=0)throw new Error("Buffer size must be evenly divisible by 2.");this.bufferSize=e},S.prototype.setIgnoreWavHeader=function(e){this.ignoreWavHeader=e},S.prototype.decodeChunk=function(e){if(this.chunks.push(e),this.headerBuffer.length<36&&this.ignoreWavHeader&&!this.processTimeStamps){var t=b(this.chunks);if(t.length>=36){this.headerBuffer=t.slice(0,36);var r=t.slice(36);this.chunks=[],this.chunks.push(r)}}if(this.processTimeStamps&&!this.allTimestampsProcessed&&this.timeStampsBuffer.push(e),!this.ignoreWavHeader&&this.processTimeStamps&&!this.allTimestampsProcessed){var n=b(this.timeStampsBuffer),i=this.extractTimestampsFromBuffer(n);if(!i.timestamps)if(this.headerBuffer.length<36){var o=b(this.chunks);o.length>=36&&(this.headerBuffer=o.slice(0,36),this.chunks=[],this.chunks.push(this.headerBuffer))}else this.chunks=[],this.chunks.push(this.headerBuffer);if(i.timestamps&&null!==i.timestamps){if(this.headerBuffer.length<36){var s=b(this.chunks);if(s.length>=36){this.headerBuffer=s.slice(0,36),this.chunks=[];var a=s.slice(i.offset);this.chunks.push(this.headerBuffer),this.chunks.push(a)}}else{var u=b(this.timeStampsBuffer).slice(i.offset);this.chunks=[],this.chunks.push(this.headerBuffer),this.chunks.push(u)}this.timeStamps=i.timestamps,this.allTimestampsProcessed=!0,this.timeStampsBuffer=[]}}if(this.ignoreWavHeader&&this.processTimeStamps&&!this.allTimestampsProcessed){var c=b(this.timeStampsBuffer),f=this.extractTimestampsFromBuffer(c);if(!f.timestamps&&f.offset&&(this.chunks=[]),f.timestamps&&null!==f.timestamps){this.timeStamps=f.timestamps,this.allTimestampsProcessed=!0;var h=b(this.timeStampsBuffer).slice(f.offset);this.chunks=[],this.chunks.push(h)}}},S.prototype.flushBuffer=function(e){void 0===e&&(e=!1);var t=b(this.chunks);if(e&&t.length>0)return this.chunks=[],t;if(t.length>=this.bufferSize){var r=t.slice(0,this.bufferSize),n=t.slice(this.bufferSize);return this.chunks=[],this.chunks.push(n),r}return null},S.prototype.reset=function(){this.chunks=[],this.headerBuffer=new Uint8Array},S.prototype.getTimestamps=function(){return this.processTimeStamps&&this.allTimestampsProcessed?this.timeStamps:null},S.prototype.extractTimestampsFromBuffer=function(e){var t=0;t+=4,t+=4,t+=14;var r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=(r.getUint16(t,!0),r.getUint32(t+2,!0));t+=14;var i=new TextDecoder("ascii"),o=i.decode(new Uint8Array(e.buffer,e.byteOffset+t,4));t+=4;var s={graph_chars:[],graph_times:[],phon_chars:[],phon_times:[]};if("cue "===o){var a=[r.getUint32(t,!0),r.getUint32(t+4,!0)],u=a[0],c=a[1],f={};if((t+=8)+u-4>e.length)return{timestamps:null,offset:t};for(var h=1;h<=c;h++){var l=r.getUint32(t,!0),m=r.getUint32(t+20,!0);f[l]=m,t+=24}o=i.decode(new Uint8Array(e.buffer,e.byteOffset+t,4)),u=r.getUint32(t+4,!0);var d=(t+=12)+u-4;if(d>e.length)return{timestamps:null,offset:t};for(;t<d;){var p=r.getUint32(t+4,!0),v=r.getUint32(t+8,!0),y=r.getUint32(t+12,!0),g=i.decode(new Uint8Array(e.buffer,e.byteOffset+t+16,4)).trim();t+=28;var P=p-20,_=new TextDecoder("utf-8").decode(new Uint8Array(e.buffer,e.byteOffset+t,P-1));t+=P,t+=P%2;var w={grph:"graph",phon:"phon"}[g];s[w+"_chars"].push(_),s[w+"_times"].push([f[v]/n,(f[v]+y)/n])}return{timestamps:s,offset:t}}return{timestamps:null}};var D,T,B=function(e,t){try{return Promise.resolve(x(function(){return Promise.resolve(g("projects/"+e+"/clips",t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},U={all:function(e,t,r){try{return Promise.resolve(x(function(){return Promise.resolve(y("projects/"+e+"/clips?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return p({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(x(function(){return Promise.resolve(y("projects/"+e+"/clips/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},createAsync:function(e,t){return B(e,t)},createSync:function(e,t){return B(e,t)},createDirect:function(e){try{return Promise.resolve(x(function(){return Promise.resolve(g("synthesize",e,!0)).then(function(e){return Promise.resolve(e.json())})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},stream:(D=/*#__PURE__*/h().mark(function e(t,r){var n,i,o,s,a,u,c,f,l,m,v,y,P,_;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={bufferSize:4096,ignoreWavHeader:!1,getTimeStamps:!1},i=(null==r?void 0:r.getTimeStamps)||n.getTimeStamps,o=(null==r?void 0:r.bufferSize)||n.bufferSize,s=(null==r?void 0:r.ignoreWavHeader)||n.ignoreWavHeader,e.prev=4,e.next=7,d(g("stream",p({},t,{wav_encoded_timestamps:i}),!0));case 7:if((a=e.sent).ok&&a.body){e.next=20;break}if(!(null==(u=a.headers.get("content-type"))?void 0:u.includes("application/json"))){e.next=16;break}return e.next=13,d(a.json());case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0=null;case 17:throw c=e.t0,Error(c&&c.message||a.status);case 20:(f=new S(o,s,i)).reset(),l=a.body.getReader(),e.prev=23;case 24:return e.next=27,d(l.read());case 27:if(v=(m=e.sent).value,!m.done){e.next=32;break}return e.abrupt("break",39);case 32:if(f.decodeChunk(v),null===(y=f.flushBuffer())){e.next=37;break}return e.next=37,{data:y,timestamps:f.getTimestamps()};case 37:e.next=24;break;case 39:return e.prev=39,l.releaseLock(),e.finish(39);case 42:P=f.flushBuffer();case 43:if(null===P){e.next=50;break}return _=new Uint8Array(P),P=f.flushBuffer(),e.next=48,{data:_,timestamps:f.getTimestamps()};case 48:e.next=43;break;case 50:if(null===(P=f.flushBuffer(!0))){e.next=54;break}return e.next=54,{data:P,timestamps:f.getTimestamps()};case 54:e.next=59;break;case 56:throw e.prev=56,e.t1=e.catch(4),e.t1;case 59:case"end":return e.stop()}},e,null,[[4,56],[23,,39,42]])}),T=function(){return new m(D.apply(this,arguments))},function(e,t){return T.apply(this,arguments)}),updateAsync:function(e,t,r){try{return Promise.resolve(x(function(){return Promise.resolve(P("projects/"+e+"/clips/"+t,r)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e,t){try{return Promise.resolve(x(function(){return Promise.resolve(_("projects/"+e+"/clips/"+t)).then(function(e){return e.json()})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}}};function L(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var E={all:function(e,t,r){try{return Promise.resolve(L(function(){return Promise.resolve(y("voices/"+e+"/recordings?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return p({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(L(function(){return Promise.resolve(y("voices/"+e+"/recordings/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},create:function(e,t,r,o){try{return Promise.resolve(L(function(){var s=new i.default;return s.append("name",t.name),s.append("text",t.text),s.append("emotion",t.emotion),s.append("is_active",t.is_active?"true":"false"),s.append("file",r,{knownLength:o}),Promise.resolve(n.default(f.endpoint("v2","voices/"+e+"/recordings"),{method:"POST",headers:p({Authorization:f.headers().Authorization,"Content-Type":"multipart/form-data"},s.getHeaders?s.getHeaders():{}),body:s})).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t,r){try{return Promise.resolve(L(function(){return Promise.resolve(P("voices/"+e+"/recordings/"+t,r)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e,t){try{return Promise.resolve(L(function(){return Promise.resolve(_("voices/"+e+"/recordings/"+t)).then(function(e){return e.json()})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}}};function A(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var O={all:function(e,t){try{return Promise.resolve(A(function(){return Promise.resolve(y("voices?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&e.items.map(function(e){return p({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})}),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(A(function(){return Promise.resolve(y("voices/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},create:function(e){try{return Promise.resolve(A(function(){return Promise.resolve(g("voices",e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},update:function(e,t){try{return Promise.resolve(A(function(){return Promise.resolve(P("voices/"+e,t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},destroy:function(e){try{return Promise.resolve(A(function(){return Promise.resolve(_("voices/"+e)).then(function(e){return e.json()})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},build:function(e){try{return Promise.resolve(A(function(){return Promise.resolve(g("voices/"+e+"/build")).then(function(e){return e.json()})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}}};function z(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var H={all:function(e,t,r){try{return Promise.resolve(z(function(){return Promise.resolve(y("projects/"+e+"/batch?page="+t+(r?"&page_size="+r:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e.items=e.items.map(function(e){return p({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},create:function(e,t,r,n){try{return Promise.resolve(z(function(){var i={body:r,voice_uuid:t,sample_rate:null==n?void 0:n.sampleRate,output_format:null==n?void 0:n.outputFormat,precision:null==n?void 0:n.precision};return null!=n&&n.callbackUri&&(i.callback_uri=null==n?void 0:n.callbackUri),Promise.resolve(g("/projects/"+e+"/batch",i)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},get:function(e,t){try{return Promise.resolve(z(function(){return Promise.resolve(y("projects/"+e+"/batch/"+t)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e=p({},e,{item:p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},delete:function(e,t){try{return Promise.resolve(z(function(){return Promise.resolve(_("projects/"+e+"/batch/"+t)).then(function(e){return e.json()})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}}};function W(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var N={all:function(e,t){try{return Promise.resolve(W(function(){return Promise.resolve(y("phonemes?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e.items=e.items.map(function(e){return p({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},create:function(e,t){try{return Promise.resolve(W(function(){return Promise.resolve(g("phonemes",{word:e,phonetic_transcription:t})).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e.item=p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(W(function(){return Promise.resolve(y("phonemes/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e.item=p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},delete:function(e){try{return Promise.resolve(W(function(){return Promise.resolve(_("phonemes/"+e)).then(function(e){return e.json()})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}}};function F(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}var G={all:function(e,t){try{return Promise.resolve(F(function(){return Promise.resolve(y("term_substitutions?page="+e+(t?"&page_size="+t:""))).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e.items=e.items.map(function(e){return p({},e,{created_at:new Date(e.created_at),updated_at:new Date(e.updated_at)})})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},create:function(e,t){try{return Promise.resolve(F(function(){return Promise.resolve(g("term_substitutions",{original_text:e,replacement_text:t})).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e.item=p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},get:function(e){try{return Promise.resolve(F(function(){return Promise.resolve(y("term_substitutions/"+e)).then(function(e){return Promise.resolve(e.json()).then(function(e){return e.success&&(e.item=p({},e.item,{created_at:new Date(e.item.created_at),updated_at:new Date(e.item.updated_at)})),e})})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}},delete:function(e){try{return Promise.resolve(F(function(){return Promise.resolve(_("term_substitutions/"+e)).then(function(e){return e.json()})},function(e){return w(e)}))}catch(e){return Promise.reject(e)}}};exports.Resemble={setApiKey:f.setApiKey,setBaseUrl:f.setBaseUrl,setSynthesisUrl:f.setSynthesisUrl,v2:{projects:{all:k.all,create:k.create,update:k.update,get:k.get,delete:k.destroy},clips:{all:U.all,createSync:U.createSync,createAsync:U.createAsync,createDirect:U.createDirect,updateAsync:U.updateAsync,stream:U.stream,get:U.get,delete:U.destroy},voices:{all:O.all,create:O.create,update:O.update,build:O.build,get:O.get,delete:O.destroy},recordings:{all:E.all,get:E.get,create:E.create,update:E.update,delete:E.destroy},batch:{all:H.all,get:H.get,create:H.create,delete:H.delete},phonemes:{all:N.all,create:N.create,get:N.get,delete:N.delete},termSubstitutions:{all:G.all,get:G.get,create:G.create,delete:G.delete}}};
//# sourceMappingURL=resemble.cjs.map
